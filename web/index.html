<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>易經陽宅風水 - 平面圖建構器</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>🏠 易經陽宅風水 - 平面圖建構器</h1>
            <p class="subtitle">拖拉房間建構平面圖，再將家人放入臥室</p>
        </header>

        <div class="main-layout">
            <!-- Toolbox -->
            <div class="toolbox">
                <h3>👨‍👩‍👧‍👦 家庭成員</h3>
                <div class="tool-item person" draggable="true" data-type="person" data-value="父親" data-icon="👴">
                    <span class="icon">👴</span> 父親
                </div>
                <div class="tool-item person" draggable="true" data-type="person" data-value="母親" data-icon="👵">
                    <span class="icon">👵</span> 母親
                </div>
                <div class="tool-item person" draggable="true" data-type="person" data-value="長子" data-icon="👦">
                    <span class="icon">👦</span> 長子
                </div>
                <div class="tool-item person" draggable="true" data-type="person" data-value="長女" data-icon="👧">
                    <span class="icon">👧</span> 長女
                </div>
                <div class="tool-item person" draggable="true" data-type="person" data-value="次子" data-icon="👦">
                    <span class="icon">👦</span> 次子
                </div>
                <div class="tool-item person" draggable="true" data-type="person" data-value="次女" data-icon="👧">
                    <span class="icon">👧</span> 次女
                </div>
                <div class="tool-item person" draggable="true" data-type="person" data-value="少子" data-icon="👶">
                    <span class="icon">👶</span> 少子
                </div>
                <div class="tool-item person" draggable="true" data-type="person" data-value="少女" data-icon="👶">
                    <span class="icon">👶</span> 少女
                </div>

                <h3>🛏️ 房間</h3>
                <div class="tool-item room" draggable="true" data-type="room" data-value="主臥室" data-icon="🛏️">
                    <span class="icon">🛏️</span> 主臥室
                </div>
                <div class="tool-item room" draggable="true" data-type="room" data-value="臥室" data-icon="🛏️">
                    <span class="icon">🛏️</span> 臥室
                </div>
                <div class="tool-item room" draggable="true" data-type="room" data-value="客廳" data-icon="🛋️">
                    <span class="icon">🛋️</span> 客廳
                </div>
                <div class="tool-item room" draggable="true" data-type="room" data-value="餐廳" data-icon="🍽️">
                    <span class="icon">🍽️</span> 餐廳
                </div>
                <div class="tool-item room" draggable="true" data-type="room" data-value="書房" data-icon="📚">
                    <span class="icon">📚</span> 書房
                </div>
                <div class="tool-item room" draggable="true" data-type="room" data-value="儲藏室" data-icon="📦">
                    <span class="icon">📦</span> 儲藏室
                </div>

                <h3>🔧 設施</h3>
                <div class="tool-item facility" draggable="true" data-type="facility" data-value="廚房" data-icon="🍳">
                    <span class="icon">🍳</span> 廚房
                </div>
                <div class="tool-item facility" draggable="true" data-type="facility" data-value="廁所" data-icon="🚽">
                    <span class="icon">🚽</span> 廁所
                </div>
                <div class="tool-item facility" draggable="true" data-type="facility" data-value="浴室" data-icon="🛁">
                    <span class="icon">🛁</span> 浴室
                </div>
                <div class="tool-item facility" draggable="true" data-type="facility" data-value="大門" data-icon="🚪">
                    <span class="icon">🚪</span> 大門
                </div>
                <div class="tool-item facility" draggable="true" data-type="facility" data-value="陽台" data-icon="🌿">
                    <span class="icon">🌿</span> 陽台
                </div>
                <div class="tool-item facility" draggable="true" data-type="facility" data-value="玄關" data-icon="🚶">
                    <span class="icon">🚶</span> 玄關
                </div>
                <div class="tool-item facility" draggable="true" data-type="facility" data-value="車庫" data-icon="🚗">
                    <span class="icon">🚗</span> 車庫
                </div>
                <div class="tool-item facility" draggable="true" data-type="facility" data-value="樓梯" data-icon="🪜">
                    <span class="icon">🪜</span> 樓梯
                </div>
                <div class="tool-item facility" draggable="true" data-type="facility" data-value="神明廳" data-icon="🙏">
                    <span class="icon">🙏</span> 神明廳
                </div>
            </div>

            <!-- Canvas -->
            <div class="canvas-wrapper">
                <div class="canvas-header">
                    <h3>📐 平面圖（上方為北）</h3>
                    <div class="canvas-actions">
                        <button id="clearCanvas">🗑️ 清除全部</button>
                    </div>
                </div>
                <canvas id="floorCanvas"></canvas>
                <div class="compass" id="compass">
                    <span class="compass-hint">拖拉旋轉</span>
                    <div class="compass-inner" id="compassInner">
                        <span class="compass-n">北</span>
                        <span class="compass-s">南</span>
                        <span class="compass-e">東</span>
                        <span class="compass-w">西</span>
                    </div>
                </div>
            </div>

            <!-- Output Panel -->
            <div class="output-panel">
                <h3>📋 配置清單</h3>
                <div class="config-list" id="configList">
                    <p style="color: var(--text-muted); font-size: 0.75rem;">
                        1. 先拖拉房間到平面圖<br>
                        2. 再將家人放入臥室
                    </p>
                </div>

                <button class="generate-btn" id="generateBtn">✨ 生成 AI 分析 Prompt</button>

                <div class="prompt-output" id="promptOutput"></div>
                <button class="copy-btn" id="copyBtn">📋 複製 Prompt</button>

                <div class="hint">
                    <strong>操作說明：</strong><br>
                    • 拖拉邊角可縮放房間<br>
                    • 拖拉旋轉鈕可旋轉<br>
                    • 雙擊可刪除<br>
                    • 家人只能放入臥室
                </div>
            </div>
        </div>

        <footer>
            <p>基於倪海廈老師易經陽宅學說 | <a href="https://github.com/Wolke/yijing-fengshui" target="_blank">GitHub</a></p>
        </footer>
    </div>

    <script src="app.js" defer></script>
</body>

</html>